/* =========================================================
   LOST SWORD TEAM BUILDER
   FILE: style-4.css

   Fungsi:
   - File CSS utama (1 file besar)
   - Dipakai oleh seluruh UI Team Builder
   - Terhubung langsung dengan main.js

   CATATAN:
   - Semua variabel :root dipakai lintas komponen
   - Jangan ubah nama variable tanpa audit JS
========================================================= */


/* ================= ROOT =================
   SISTEM WARNA & TEMA GLOBAL
   Dipakai oleh:
   - Card
   - Slot
   - Popup
   - Equip
   - Notifikasi
========================================== */
:root {
  /* =====================================================
     CORE BACKGROUND
     ===================================================== */
  --bg-main: #0B1020;          /* background utama (sangat gelap) */
  --bg-section: #10162A;       /* section wrapper */
  --bg-card: #141C33;          /* card / slot */
  --bg-card-hover: #192248;    /* hover */
  --bg-popup: #0F152B;         /* popup modal */
  --bg-input: #0E1428;         /* search & input */

  /* =====================================================
     BORDER SYSTEM (ARCANE)
     ===================================================== */
  --border-default: #27335E;   /* slot normal */
  --border-soft: #1E294B;      /* subtle divider */
  --border-hover: #3B4D8F;     /* hover */
  --border-active: #4DF0FF;    /* active / selected */
  --border-warning: #E6B65C;   /* warning / legendary */
  --border-danger: #E5484D;    /* error / delete */

  /* =====================================================
     TEXT SYSTEM
     ===================================================== */
  --text-primary: #E6E9F0;     /* judul */
  --text-secondary: #AAB1C6;   /* info */
  --text-muted: #6B738E;       /* placeholder */
  --text-disabled: #4E556F;    /* disabled */

  /* =====================================================
     NAME HIGHLIGHT (ENTITAS)
     ===================================================== */
  --name-character: #8FB9FF;
  --name-card: #C5B8FF;
  --name-pet: #6FE3B4;
  --name-legendary: #F5C77A;

  /* =====================================================
     EFFECT / GLOW
     ===================================================== */
  --glow-hover: 0 0 12px rgba(77, 240, 255, 0.35);
  --glow-active: 0 0 16px rgba(77, 240, 255, 0.55);
  --glow-legendary: 0 0 18px rgba(245, 199, 122, 0.55);

  /* =====================================================
     STATUS / NOTIFICATION
     ===================================================== */
  --success: #2ECC71;
  --warning: #F4C56C;
  --danger: #E5484D;
  --info: #4DF0FF;

  /* =====================================================
     TRANSITION
     ===================================================== */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.25s ease;
}

/* =========================================================
   2. CSS RESET & GLOBAL BASE
   ---------------------------------------------------------
   Fungsi:
   - Menyamakan perilaku elemen browser
   - Menentukan font default
   - Warna dasar body

   Catatan:
   - Hampir semua elemen UI mewarisi rule di sini
========================================================= */

/* ================= RESET ================= */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ================= BODY =================
   Dipakai oleh:
   - Semua halaman
   - Popup & overlay tetap inherit warna
========================================== */
body {
  background: var(--bg-main);
  color: var(--text-primary);
}

/* ================= GLOBAL SECTION BACKGROUND =================
   Section-wrapper umum:
   - container utama
   - filter UI
   - popup
   - popup-content
=============================================================== */
section,
.filters-ui,
.popup,
.popup-content {
  background: var(--bg-section);
}

/* =========================================================
   3. HEADER / BRANDING / TOP NAVIGATION
   ---------------------------------------------------------
   Fungsi:
   - Header utama website
   - Branding (nama site)
   - Tombol share
   - Navigasi bagian atas

   Catatan:
   - Beberapa rule muncul TERPISAH di file lama
   - Disatukan di sini agar mudah dibaca manusia
========================================================= */


/* ================= HEADER DASAR =================
   Header paling atas (struktur umum)
================================================= */
header {
  padding: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--border-default);
}

header h1 {
  font-size: 22px;
}


/* ================= SITE HEADER (VERSI BARU) =================
   Header dengan branding lengkap
   Dipakai di layout utama
============================================================== */
.site-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 18px;
  background: #0d1118;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}


/* ================= BRAND =================
   Logo + nama website
=========================================== */
.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}

.brand-text {
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}

.site-name {
  font-size: 20px;
  margin: 0;
  color: #d6e4ff;
}


/* ================= SHARE BUTTON =================
   Tombol share (UI kosmetik)
================================================= */
.share-btn {
  background: #1e2a44;
  border: 1px solid rgba(255,255,255,.2);
  color: white;
  padding: 8px 14px;
  border-radius: 8px;
  cursor: pointer;
}

.share-btn:hover {
  background: #24345a;
}


/* ================= TOP CONTROLS =================
   Area kontrol bagian atas:
   - filter
   - tombol save
   - navigasi
================================================= */
.top-controls {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  margin: 16px 0 8px;
  min-height: 120px;
}

.top-nav.centered {
  justify-content: center;
}


/* ================= RESPONSIVE HEADER ================= */
@media (max-width: 768px) {
  header h1 {
    font-size: 18px;
  }

  .top-controls {
    gap: 10px;
  }
}

/* =========================================================
   4. TOP ACTION BUTTONS
   ---------------------------------------------------------
   Fungsi:
   - Tombol Save Team
   - Tombol Reset Team
   - Tombol aksi lain di bagian atas

   TERKAIT LANGSUNG DENGAN JS:
   - saveCurrentTeam()
   - resetTeam()
========================================================= */


/* ================= ACTION BUTTON WRAPPER =================
   Container tombol utama
====================================================== */
.action-buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
}


/* ================= SAVE TEAM BUTTON =================
   Tombol utama simpan team
===================================================== */
.save-team-btn {
  background: linear-gradient(135deg, #3b82f6, #6366f1);
  border: none;
  padding: 10px 18px;
  border-radius: 10px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 0 12px rgba(99, 102, 241, 0.4);
}

.save-team-btn:hover {
  filter: brightness(1.1);
}


/* ================= RESET TEAM BUTTON =================
   Tombol reset (DESTRUCTIVE)
====================================================== */
.reset-team-btn {
  background: transparent;
  border: 1px solid var(--border-danger);
  padding: 10px 18px;
  border-radius: 10px;
  color: var(--danger);
  cursor: pointer;
}

.reset-team-btn:hover {
  background: rgba(229, 72, 77, 0.15);
}


/* ================= DISABLED STATE =================
   DIPAKAI JS:
   button.disabled = true
==================================================== */
.save-team-btn:disabled,
.reset-team-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* =========================================================
   5. FILTER & SEARCH SYSTEM
   ---------------------------------------------------------
   Fungsi:
   - Filter karakter (role, element, rarity, dll)
   - Search nama karakter
   - Reset filter

   TERKAIT LANGSUNG DENGAN JS:
   - setupFilters()
   - activeFilters
   - toggleResetButton()
========================================================= */


/* ================= FILTER UI WRAPPER =================
   Container utama filter
==================================================== */
.filters-ui {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid var(--border-soft);
}


/* ================= FILTER BAR =================
   Bar tombol filter
================================================ */
.filters-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}


/* ================= FILTER BUTTON =================
   Tombol filter individu
================================================== */
.filter-btn {
  padding: 6px 10px;
  border-radius: 6px;
  background: var(--bg-card);
  color: var(--text-secondary);
  border: 1px solid var(--border-default);
  cursor: pointer;
  transition: var(--transition-fast);
}

.filter-btn:hover {
  border-color: var(--border-hover);
}


/* ================= FILTER ACTIVE STATE =================
   DIPAKAI JS:
   filterBtn.classList.toggle("active")
========================================================= */
.filter-btn.active {
  border-color: var(--border-active);
  box-shadow: var(--glow-hover);
  color: var(--text-primary);
}


/* ================= RESET FILTER BUTTON =================
   Tombol reset (muncul jika ada filter aktif)
========================================================= */
#resetFilterBtn {
  margin-left: auto;
  color: var(--warning);
  cursor: pointer;
  opacity: 0.7;
}

#resetFilterBtn:hover {
  opacity: 1;
}


/* ================= SEARCH INPUT =================
   Input pencarian karakter
================================================ */
.search-input {
  background: var(--bg-input);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  padding: 8px 10px;
  color: var(--text-primary);
}

.search-input::placeholder {
  color: var(--text-muted);
}

/* =========================================================
   6. CHARACTER GRID & CHARACTER CARD
   ---------------------------------------------------------
   Fungsi:
   - Menampilkan daftar karakter
   - Menandai karakter yang sudah masuk team
   - State disabled / selected

   TERKAIT LANGSUNG DENGAN JS:
   - renderCharacters()
   - handleCharacterClick()
   - updateCharacterState()
========================================================= */


/* ================= CHARACTER SECTION =================
   Wrapper section karakter
================================================== */
.characters-section {
  margin-top: 16px;
}


/* ================= CHARACTER GRID =================
   Grid daftar karakter
================================================ */
.characters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
  gap: 10px;
}


/* ================= CHARACTER CARD =================
   Card karakter individu
================================================== */
.character-card {
  background: var(--bg-card);
  border: 1px solid var(--border-default);
  border-radius: 10px;
  padding: 6px;
  cursor: pointer;
  position: relative;
  transition: var(--transition-fast);
}

.character-card:hover {
  border-color: var(--border-hover);
}


/* ================= CHARACTER IMAGE ================= */
.character-card img {
  width: 100%;
  border-radius: 6px;
}


/* ================= CHARACTER NAME ================= */
.character-card .name {
  font-size: 12px;
  text-align: center;
  margin-top: 4px;
  color: var(--text-secondary);
}


/* ================= STATE: IN TEAM =================
   DIPAKAI JS:
   card.classList.add("in-team")
==================================================== */
.character-card.in-team {
  opacity: 0.4;
  pointer-events: none;
}


/* ================= STATE: DISABLED =================
   Dipakai jika tidak bisa dipilih
==================================================== */
.character-card.disabled {
  opacity: 0.3;
  pointer-events: none;
}


/* ================= RARITY / SPECIAL BORDER =================
   Visual kosmetik (rarity, element, dll)
============================================================== */
.character-card.legendary {
  border-color: var(--border-warning);
  box-shadow: var(--glow-legendary);
}

/* =========================================================
   7. TEAM BUILDER & TEAM SLOT SYSTEM
   ---------------------------------------------------------
   Fungsi:
   - Area team (slot karakter)
   - Menampilkan karakter terpilih
   - Menangani state aktif / kosong / selected

   TERKAIT LANGSUNG DENGAN JS:
   - renderTeam()
   - selectTeamSlot()
   - addCharacterToTeam()
   - removeCharacterFromTeam()
========================================================= */


/* ================= TEAM SECTION =================
   Wrapper utama team builder
================================================= */
.team-section {
  margin-top: 18px;
}


/* ================= TEAM SLOTS CONTAINER =================
   Container slot-slot team
======================================================= */
.team-slots {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}


/* ================= TEAM SLOT =================
   Slot karakter (inti)
================================================ */
.team-slot {
  width: 110px;
  height: 150px;
  background: var(--bg-card);
  border: 2px dashed var(--border-default);
  border-radius: 12px;
  position: relative;
  cursor: pointer;
  transition: var(--transition-fast);
}

.team-slot:hover {
  border-color: var(--border-hover);
}


/* ================= EMPTY SLOT =================
   Slot kosong (sebelum karakter dipilih)
================================================ */
.team-slot.empty {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
}


/* ================= SELECTED SLOT =================
   DIPAKAI JS:
   slot.classList.add("selected-slot")
=================================================== */
.team-slot.selected-slot {
  border-color: var(--border-active);
  box-shadow: var(--glow-active);
}


/* ================= SLOT IMAGE ================= */
.team-slot img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 10px;
}


/* ================= REMOVE BUTTON =================
   Tombol X untuk remove karakter
================================================== */
.team-slot .remove-btn {
  position: absolute;
  top: 6px;
  right: 6px;
  background: rgba(0,0,0,0.6);
  border: none;
  color: white;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  cursor: pointer;
}

.team-slot .remove-btn:hover {
  background: rgba(229, 72, 77, 0.8);
}

/* =========================================================
   8. CARD SLOT & PET SLOT SYSTEM
   ---------------------------------------------------------
   Fungsi:
   - Slot kartu di bawah setiap team-slot
   - Slot pet
   - Trigger popup pemilihan card / pet

   TERKAIT LANGSUNG DENGAN JS:
   - renderPets()
   - openCardPopup()
   - selectCard()
========================================================= */


/* ================= SLOT CONTAINER =================
   Wrapper slot card / pet
================================================ */
.slot-container {
  display: flex;
  gap: 6px;
  margin-top: 6px;
  justify-content: center;
}


/* ================= GENERIC SLOT =================
   Slot dasar (card & pet)
================================================== */
.card-slot,
.pet-slot {
  width: 48px;
  height: 48px;
  background: var(--bg-card);
  border: 1px solid var(--border-default);
  border-radius: 8px;
  cursor: pointer;
  position: relative;
  transition: var(--transition-fast);
}

.card-slot:hover,
.pet-slot:hover {
  border-color: var(--border-hover);
}


/* ================= SLOT INNER =================
   Inner wrapper (gambar / icon)
================================================ */
.slot-inner {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}


/* ================= SLOT IMAGE ================= */
.card-slot img,
.pet-slot img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 6px;
}


/* ================= EMPTY SLOT =================
   Slot kosong (belum ada card / pet)
================================================ */
.card-slot.empty,
.pet-slot.empty {
  opacity: 0.4;
}


/* ================= REMOVE BUTTON (CARD / PET) =================
   Tombol hapus kecil
============================================================== */
.card-slot .remove-pet,
.pet-slot .remove-pet {
  position: absolute;
  top: -6px;
  right: -6px;
  width: 18px;
  height: 18px;
  background: var(--danger);
  border-radius: 50%;
  color: white;
  font-size: 12px;
  border: none;
  cursor: pointer;
}

/* =========================================================
   9. POPUP / MODAL SYSTEM
   ---------------------------------------------------------
   Fungsi:
   - Popup pemilihan card
   - Popup pemilihan pet
   - Overlay gelap
   - Scroll konten popup

   TERKAIT LANGSUNG DENGAN JS:
   - openPopup()
   - closePopup()
   - popup.classList.add("active")
========================================================= */


/* ================= POPUP OVERLAY =================
   Latar gelap full screen
================================================ */
.popup {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}


/* ================= POPUP ACTIVE =================
   DIPAKAI JS:
   popup.classList.add("active")
================================================== */
.popup.active {
  display: flex;
}


/* ================= POPUP CONTENT =================
   Kotak utama popup
================================================= */
.popup-content {
  background: var(--bg-popup);
  border-radius: 14px;
  width: 90%;
  max-width: 720px;
  max-height: 80%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border: 1px solid var(--border-default);
}


/* ================= POPUP HEADER =================
   Judul + tombol close
================================================ */
.popup-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  border-bottom: 1px solid var(--border-soft);
}


/* ================= POPUP BODY =================
   Area scroll konten
================================================ */
.popup-body {
  padding: 12px;
  overflow-y: auto;
}


/* ================= CLOSE BUTTON =================
   Tombol X popup
================================================ */
.popup-close {
  cursor: pointer;
  font-size: 18px;
  opacity: 0.6;
}

.popup-close:hover {
  opacity: 1;
}

/* =========================================================
   10. POPUP CONTENT GRID (CARD / PET)
   ---------------------------------------------------------
   Fungsi:
   - Menampilkan daftar card / pet di popup
   - Memberi state hover & selected
   - Visual feedback saat memilih

   TERKAIT LANGSUNG DENGAN JS:
   - renderPopupCards()
   - renderPopupPets()
   - selectCard()
   - selectPet()
========================================================= */


/* ================= POPUP GRID =================
   Grid item di dalam popup
================================================ */
.popup-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
  gap: 10px;
}


/* ================= POPUP ITEM =================
   Card / Pet item
================================================ */
.popup-item {
  background: var(--bg-card);
  border: 1px solid var(--border-default);
  border-radius: 10px;
  padding: 6px;
  cursor: pointer;
  transition: var(--transition-fast);
  position: relative;
}

.popup-item:hover {
  border-color: var(--border-hover);
}


/* ================= POPUP ITEM IMAGE ================= */
.popup-item img {
  width: 100%;
  border-radius: 6px;
}


/* ================= POPUP ITEM NAME ================= */
.popup-item .name {
  font-size: 11px;
  text-align: center;
  margin-top: 4px;
  color: var(--text-secondary);
}


/* ================= SELECTED ITEM =================
   DIPAKAI JS:
   item.classList.add("selected")
================================================== */
.popup-item.selected {
  border-color: var(--border-active);
  box-shadow: var(--glow-active);
}


/* ================= DISABLED ITEM =================
   Item tidak bisa dipilih
================================================== */
.popup-item.disabled {
  opacity: 0.35;
  pointer-events: none;
}

/* =========================================================
   11. NOTIFICATION / TOAST SYSTEM
   ---------------------------------------------------------
   Fungsi:
   - Menampilkan pesan sukses / error / info
   - Feedback setelah aksi user (save, reset, dll)

   TERKAIT LANGSUNG DENGAN JS:
   - showToast()
   - showNotification()
========================================================= */


/* ================= TOAST CONTAINER =================
   Wrapper notifikasi
================================================ */
.toast-container {
  position: fixed;
  bottom: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  z-index: 2000;
}


/* ================= TOAST =================
   Elemen notifikasi
================================================ */
.toast {
  background: var(--bg-card);
  border: 1px solid var(--border-default);
  border-radius: 10px;
  padding: 10px 14px;
  color: var(--text-primary);
  min-width: 200px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.35);
  animation: toastIn 0.3s ease;
}


/* ================= TOAST VARIANT ================= */
.toast.success {
  border-color: var(--success);
}

.toast.error {
  border-color: var(--danger);
}

.toast.info {
  border-color: var(--info);
}


/* ================= TOAST ANIMATION ================= */
@keyframes toastIn {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}


/* =========================================================
   12. UTILITY & HELPER CLASS
   ---------------------------------------------------------
   Fungsi:
   - Class kecil reusable
   - State global (hidden, active, center)
   - Dipakai langsung oleh JS & HTML

   CATATAN:
   - Jangan hapus walaupun terlihat "sepele"
========================================================= */


/* ================= VISIBILITY =================
   DIPAKAI JS:
   el.classList.add("hidden")
================================================ */
.hidden {
  display: none !important;
}


/* ================= ACTIVE STATE =================
   State umum (fallback jika tidak spesifik)
================================================ */
.active {
  opacity: 1;
}


/* ================= CENTERING =================
   Helper alignment
================================================ */
.center {
  display: flex;
  align-items: center;
  justify-content: center;
}


/* ================= TEXT HELPERS ================= */
.text-muted {
  color: var(--text-muted);
}

.text-center {
  text-align: center;
}


/* ================= SCROLLBAR (OPTIONAL COSMETIC) ================= */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-thumb {
  background: var(--border-soft);
  border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--border-hover);
}
